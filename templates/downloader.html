{% extends "base.html" %}

{% block title %}Downloader - YouTube Video Downloader{% endblock %}

{% block content %}
<div class="shell">
  <section class="card">
    <header>
      <p class="eyebrow">Personal / Educational use</p>
      <h1>YouTube Downloader</h1>
      <p class="lede">Paste a YouTube link, pick a format, and grab the file. FFmpeg is required for MP3.</p>
    </header>

    <div id="preview" class="preview">
      <div class="thumb">
        <div class="thumb-cover" id="thumb-placeholder">Paste a link to preview</div>
        <img id="thumb-img" alt="Video thumbnail" />
      </div>
      <div class="meta">
        <p id="meta-title" class="meta-title">No video loaded</p>
        <p id="meta-sub" class="meta-sub">Duration will appear here</p>
      </div>
    </div>

    <form id="download-form" class="stack">
      <label class="field">
        <span>Video URL</span>
        <input name="url" type="url" placeholder="https://www.youtube.com/watch?v=..." required />
      </label>

      <div class="grid two-cols">
        <label class="field">
          <div class="label-row">
            <span>Format</span>
            <span class="label-hint">MP4 = video â€¢ MP3 = audio</span>
          </div>
          <select name="media_format" id="format-select">
            <option value="mp4">MP4 (video)</option>
            <option value="mp3">MP3 (audio)</option>
          </select>
        </label>

        <label class="field" id="quality-section">
          <div class="label-row">
            <span id="quality-label">Max quality</span>
            <span class="label-hint" id="quality-hint">Cap resolution</span>
          </div>
          <select name="quality" id="video-quality">
            <option value="">Best available</option>
            <option value="2160">2160p</option>
            <option value="1440">1440p</option>
            <option value="1080">1080p</option>
            <option value="720">720p</option>
            <option value="480">480p</option>
            <option value="360">360p</option>
          </select>
          <select name="audio_quality" id="audio-quality" class="hidden">
            <option value="320">320 kbps (Best)</option>
            <option value="256">256 kbps</option>
            <option value="192" selected>192 kbps (Standard)</option>
            <option value="128">128 kbps</option>
            <option value="96">96 kbps</option>
          </select>
        </label>
      </div>

      <button type="submit" class="download-btn" id="submit-btn">
        <span id="btn-text">Download</span>
        <span id="btn-spinner" class="btn-spinner hidden"></span>
      </button>
    </form>

    <div id="status" class="status">Idle</div>
    <div id="error-box" class="error-box hidden"></div>
    <p class="fine-print">Please respect copyright and YouTube Terms of Service. This tool stores downloads only temporarily.</p>
  </section>
</div>
{% endblock %}

{% block extra_js %}
<script src="/static/app.js"></script>
{% endblock %}
